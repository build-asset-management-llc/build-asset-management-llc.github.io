import{s as u}from"./remoteForm.jx4rc44I.js";const o=document.querySelectorAll("[data-email-capture]");o.forEach((t,n)=>{if(!(t instanceof HTMLElement))return;const r=t.dataset.emailCaptureEndpoint,e=t.querySelector("[data-email-capture-input]"),i=t.querySelector("[data-email-capture-submit]"),l=t.querySelector("[data-email-capture-error]");if(!(!r||!(e instanceof HTMLInputElement)||!(i instanceof HTMLButtonElement))){if(l instanceof HTMLElement){const a=`email-capture-error-${n+1}`;l.id=a,e.setAttribute("aria-describedby",a)}i.addEventListener("click",async a=>{if(a.preventDefault(),e.value.length===0){alert("No email entered. Enter a valid email address.");return}if(!e.validity.valid){alert("Email is invalid: "+e.value);return}await u({endpoint:r,payload:{email:e.value,url:window.location.href},successMessage:"Email submitted: "+e.value,errorMessage:"Error submitting email. Try manually emailing us at info@getbuilding.com.",logContext:"email capture form"})})}});
